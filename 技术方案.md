# 毕业论文

## 问题描述

 当前时刻为t，根据t时刻之前的订单和车辆数据，预测t+k时刻各个流向的运力

## 已有方法与不足

### 运单数据的处理

基于手动设计的特征提取（比如特征工程），将结果输入到逻辑回归或者random forest。

存在的问题：特征工程通常需要大量人力，相关的原理解释较少

部分训练只基于某些属性（时间戳，起始位置），训练简化的同时造成信息缺失以及预测准确率降低

### 时间序列方法预测区域流量

利用ARIMA进行

在时间序列预测中考虑空间联系、外部语义信息（天气、规律性事件、地点）

共性问题：虽然考虑到不同因素的影响，但是未能捕捉复杂的非线性时空相关性

### 深度学习方法

可捕捉复杂的非线性时空相关性

LSTM（复杂顺序交互作用的建模 解决RNN的梯度消失和梯度爆炸

CV （将城市交通看成图, 某时段流量为像素值 

CNN（对空间相关性建模 获取相邻空间信息

共性问题：没有同时考虑空间关系以及时间序列关系

### 机器学习方法

MLP

XGBoost

回归和张量分解算法，用来预测道路网络上的旅行时间或交通速度

缺点：

1）尽管可用数据量和数据源的多样性显着增加，但可用数据的空间 - 时间覆盖仍然非常稀疏。监控整个道路网络的实时交通模式远远不够; 

2）运输系统是一个动态系统。很难以明确的形式对未来的移动模式进行物理建模。例如，当车辆在未来时间到达时，很难预测特定路段中的交通状况是什么以及特定交叉路口处的交通灯是什么。

3）模型将整个旅行时间分为几个部分。这可能导致估计误差的累积，并且对整体估计精度有害;

4）个性化是ETA的一个非常重要的因素。对于不同的驾驶员和骑车者，特定旅行的旅行时间可能会有很大差异。

## 基础技术方案

综合考虑时间、空间以及语义信息

#### 潜在运力计算

基于订单数据得到历史运输过该流向的司机

基于流向空间数据得到运输过相关流向的司机（建立图结构，在其上得到不同司机流向的相似性）

#### 任务完成时间预测

基于轨迹数据提取**司机偏好**（运输习惯、停留时间、停留次数等）以及**客户偏好**（收货时间（基于货车停留时间，找出常用的卸货时间））

ETA（estimated time of arrival)

准确的ETA将提高运输系统的效率，降低用户的旅行成本，节省能源消耗并减少机动车污染。

首先，我们基于大量有效特征将ETA表示为纯粹的时空回归问题。

其次，我们调整不同的现有机器学习模型来解决回归问题。

此外，我们提出了一种WDR学习模型，以准确预测在给定出发时间沿给定路线的旅行时间。

然后，我们联合训练WDR模型，深度神经网络和递归神经网络，以充分利用这三种模型的优势。

#### 返程时间预测 

基于轨迹数据采用聚类算法（kmeans/meanshift/dbscan)

#### 可用运力服务该流向的概率